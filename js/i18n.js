// Language translations
const translations = {
  en: {
    nav: {
      about: "About",
      services: "Services",
      expertise: "Expertise",
      recognition: "Recognition",
      contact: "Contact",
    },
    hero: {
      title: "Financial Expertise for Global Business",
      description:
        "Finspect Advisory provides end-to-end management reporting, financing, and CFO consulting services with global experience and local expertise.",
      contact: "Book a Consultation",
      services: "Our Services",
    },
    about: {
      tag: "About Us",
      title: "Who We Are",
      description:
        "At Finspect Advisory, we have a dedicated team of professionals with extensive experience in managing end-to-end management reporting, financing, and CFO consulting services.",
      feature1: "Bring global experience",
      feature2: "Have wide breadth of capabilities",
      feature3: "Value what's important to you",
      feature4: "Focus on building trust in relationships",
    },
    services: {
      tag: "Services",
      title: "Our Consulting Services",
      description: "Finspect Advisory offers:",
      optimization: {
        title: "Optimization of financial process",
        point1: "Reviewing financial process",
        point2: "Automation, optimization business process (implementation of ERP)",
      },
      analysis: {
        title: "Financial analysis",
        point1: "General financial ratios analysis",
        point2: "Special ratios and analysis depending on business",
        point3: "Capital structure analysis, working capital efficiency and full capacity analysis along with breakeven point",
        point4: "Ad hoc reports for decision making",
      },
      planning: {
        title: "Financial planning and forecasting/budgeting",
        point1: "Budgeting/forecasting business metrics (both commercial and financial) and financial statements",
        point2: "Variance analysis",
      },
      modeling: {
        title: "Financial modeling",
        point1: "Modeling business cases for new projects/new business streams/products and services which includes 3-Statement modeling/DCF/Market comparison approaches",
      },
    },
    recognition: {
      tag: "Recognition",
      title: "Award-Winning Expertise",
      description:
        "Finspect Advisory has received the Gold Trainee Development award from ACCA in recognition of our work towards preparing IFRS and Finance professionals.",
      award: {
        title: "ACCA Gold Trainee Development",
        description: "Excellence in professional development",
      },
    },
    contact: {
      tag: "Contact Us",
      title: "Get in Touch",
      description: "Ready to transform your business? Contact us today for a free consultation.",
      address: "9, Buyuk Ipak Yuli st., Mirzo-Ulugbek district, Tashkent, UZ",
      phone: "+998974405320",
      email: "info@finspect.org",
      hours: "Monday - Friday: 9:00 AM - 6:00 PM",
    },
    footer: {
      copyright: "© 2025 Finspect Advisory. All rights reserved.",
    },
  },
  ru: {
    nav: {
      about: "О нас где-то так",
      services: "Услуги",
      expertise: "Экспертиза",
      recognition: "Признание",
      contact: "Контакты",
    },
    hero: {
      title: "Финансовая экспертиза для глобального бизнеса",
      description:
        "Finspect Advisory предоставляет комплексные услуги по управленческой отчетности, финансированию и консультированию CFO с глобальным опытом и локальной экспертизой.",
      contact: "Заказать консультацию",
      services: "Наши услуги",
    },
    about: {
      tag: "О нас",
      title: "Кто мы",
      description:
        "В Finspect Advisory у нас есть преданная команда профессионалов с обширным опытом в управлении комплексной управленческой отчетностью, финансированием и консультационными услугами CFO.",
      feature1: "Глобальный опыт",
      feature2: "Широкий спектр возможностей",
      feature3: "Ценим то, что важно для вас",
      feature4: "Фокус на построении доверительных отношений",
    },
    services: {
      tag: "Услуги",
      title: "Наши консультационные услуги",
      description: "Finspect Advisory предлагает:",
      optimization: {
        title: "Оптимизация финансовых процессов",
        point1: "Анализ финансовых процессов",
        point2: "Автоматизация, оптимизация бизнес-процесса (внедрение ERP)",
      },
      analysis: {
        title: "Финансовый анализ",
        point1: "Анализ общих финансовых коэффициентов",
        point2: "Специальные коэффициенты и анализ в зависимости от бизнеса",
        point3: "Анализ структуры капитала, эффективности оборотного капитала и анализ полной мощности вместе с точкой безубыточности",
        point4: "Специальные отчеты для принятия решений"
      },
      planning: {
        title: "Финансовое планирование и прогнозирование/бюджетирование",
        point1: "Бюджетирование/прогнозирование бизнес-показателей (как коммерческих, так и финансовых) и финансовых отчетов",
        point2: "Анализ отклонений",
      },
      modeling: {
        title: "Финансовое моделирование",
        point1: "Моделирование бизнес-кейсов для новых проектов/новых бизнес-направлений/продуктов и услуг, включая 3-Statement моделирование/DCF/подходы сравнения рынка",
      },
    },
    recognition: {
      tag: "Признание",
      title: "Отмеченный наградами опыт",
      description:
        "Finspect Advisory получил золотую награду за развитие стажеров от ACCA в знак признания нашей работы по подготовке специалистов по МСФО и финансам.",
      award: {
        title: "Золотая награда ACCA за развитие стажеров",
        description: "Превосходство в профессиональном развитии",
      },
    },
    contact: {
      tag: "Свяжитесь с нами",
      title: "Связаться",
      description: "Готовы трансформировать свой бизнес? Свяжитесь с нами сегодня для бесплатной консультации.",
      address: "ул. Буюк Ипак Юли, 9, Мирзо-Улугбекский район, Ташкент, Узбекистан",
      phone: "+998974405320",
      email: "info@finspect.org",
      hours: "Понедельник - Пятница: 9:00 - 18:00",
    },
    footer: {
      copyright: "© 2025 Finspect Advisory. Все права защищены.",
    },
  },
  uz: {
    nav: {
      about: "Biz haqimizda",
      services: "Xizmatlar",
      expertise: "Ekspertiza",
      recognition: "Tan olinish",
      contact: "Aloqa",
    },
    hero: {
      title: "Global biznes uchun moliyaviy ekspertiza",
      description:
        "Finspect Advisory global tajriba va mahalliy ekspertiza bilan boshqaruv hisoboti, moliyalashtirish va CFO maslahat xizmatlarini taqdim etadi.",
      contact: "Maslahat buyurtma qilish",
      services: "Bizning xizmatlarimiz",
    },
    about: {
      tag: "Biz haqimizda",
      title: "Biz kimmiz",
      description:
        "Finspect Advisory'da bizda boshqaruv hisoboti, moliyalashtirish va CFO maslahat xizmatlarini boshqarishda keng tajribaga ega bo'lgan professional jamoa bor.",
      feature1: "Global tajriba",
      feature2: "Keng imkoniyatlar",
      feature3: "Siz uchun muhim bo'lgan narsalarni qadrlaymiz",
      feature4: "Ishonchli munosabatlar qurishga e'tibor qaratamiz",
    },
    services: {
      tag: "Xizmatlar",
      title: "Bizning maslahat xizmatlarimiz",
      description: "Finspect Advisory taklif qiladi:",
      optimization: {
        title: "Moliyaviy jarayonlarni optimallashtirish",
        point1: "Moliyaviy jarayonlarni ko'rib chiqish",
        point2: "Biznes-jarayonni avtomatlashtirish, optimallashtirish (ERPni joriy etish)",
      },
      analysis: {
        title: "Moliyaviy tahlil",
        point1: "Umumiy moliyaviy koeffitsientlar tahlili",
        point2: "Biznesga qarab maxsus koeffitsientlar va tahlil",
        point3: "Kapital tuzilishi tahlili, aylanma kapital samaradorligi va to'liq quvvat tahlili hamda rentabellik nuqtasi",
        point4: "Qaror qabul qilish uchun maxsus hisobotlar",
      },
      planning: {
        title: "Moliyaviy rejalashtirish va prognozlash/byudjetlashtirish",
        point1: "Biznes ko'rsatkichlarini (ham tijorat, ham moliyaviy) va moliyaviy hisobotlarni byudjetlashtirish/prognozlash",
        point2: "Farqlar tahlili",
      },
      modeling: {
        title: "Moliyaviy modellashtirish",
        point1: "Yangi loyihalar/yangi biznes yo'nalishlari/mahsulotlar va xizmatlar uchun biznes holatlarini modellashtirish, shu jumladan 3-Statement modellashtirish/DCF/Bozor taqqoslash yondashuvlari",
      },
    },
    recognition: {
      tag: "Tan olinish",
      title: "Mukofotlangan ekspertiza",
      description:
        "Finspect Advisory MSFO va moliya mutaxassislarini tayyorlash bo'yicha ishimizni tan olish sifatida ACCA'dan Oltin stajer rivojlantirish mukofotini oldi.",
      award: {
        title: "ACCA Oltin stajer rivojlantirish",
        description: "Professional rivojlanishda mukammallik",
      },
    },
    contact: {
      tag: "Biz bilan bog'laning",
      title: "Aloqaga chiqing",
      description: "Biznesingizni o'zgartirishga tayyormisiz? Bepul maslahat uchun bugun biz bilan bog'laning.",
      address: "Buyuk Ipak Yo'li ko'chasi, 9, Mirzo Ulug'bek tumani, Toshkent, O'zbekiston",
      phone: "+998974405320",
      email: "info@finspect.org",
      hours: "Dushanba - Juma: 9:00 - 18:00",
    },
    footer: {
      copyright: "© 2025 Finspect Advisory. Barcha huquqlar himoyalangan.",
    },
  },
}

// Function to change language
function changeLanguage(lang) {
  const elements = document.querySelectorAll("[data-i18n]")

  elements.forEach((element) => {
    const keys = element.getAttribute("data-i18n").split(".")
    let text = translations[lang]

    // Navigate through the nested objects
    for (const key of keys) {
      if (text && text[key] !== undefined) {
        text = text[key]
      } else {
        // If translation not found, keep the current text
        text = element.textContent
        break
      }
    }

    // Update the element's text content
    if (typeof text === "string") {
      element.textContent = text
    }
  })

  // Update HTML lang attribute
  document.documentElement.lang = lang

  // Update active class on language buttons
  const languageBtns = document.querySelectorAll(".language-btn")
  languageBtns.forEach((btn) => {
    if (btn.getAttribute("data-lang") === lang) {
      btn.classList.add("active")
    } else {
      btn.classList.remove("active")
    }
  })
}

// Initialize with default language or saved language
document.addEventListener("DOMContentLoaded", () => {
  // Get language buttons
  const languageBtns = document.querySelectorAll(".language-btn")

  // Add click event listeners to language buttons (single source of truth)
  languageBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.getAttribute("data-lang")
      
      // Remove active class from all buttons
      languageBtns.forEach((b) => b.classList.remove("active"))
      
      // Add active class to clicked button
      btn.classList.add("active")
      
      // Change language
      changeLanguage(lang)
      
      // Save language preference
      localStorage.setItem("language", lang)
    })
  })

  // Load saved language preference or use the active button's language
  const savedLanguage = localStorage.getItem("language")
  const activeBtn = document.querySelector(".language-btn.active")

  if (savedLanguage) {
    changeLanguage(savedLanguage)
  } else if (activeBtn) {
    const defaultLang = activeBtn.getAttribute("data-lang")
    changeLanguage(defaultLang)
  } else {
    changeLanguage("en") // Fallback to English
  }
})

